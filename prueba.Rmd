---
title: "Ejercicios Tema 1"
author: "Juan Andrés Peraira Pérez"
date: "6 de abril de 2018"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Ejercicio 1: Resuelva las siguientes operaciones
>
* $(3^5 + 2^9)-log(2)$
* $\frac{1}{\sqrt{log(2)*2^5}}$
 
### Solución:

```{r x}
x<-(3^5+2^9)-log(2)
x
```
```{r y}
y<-1/sqrt(log(2)*2^5)
y
```
## Ejercicio 2: Defina los siguientes vectores x={4,2,1} e y={1,0,-1}:
##calcule la suma de los elementos de “x”.
##calcule la suma de los vectores “x” + “y”

###Solución:

```{r }
#-- Suma de los elementos del vector X
x<-c(4,2,1)
sum(x)
```

```{r, echo=TRUE}
#-- Suma de los dos vectores
x<-c(4,2,1)
y<-c(1,0,-1)
x+y
```

\newpage

## Ejercicio 3: Construya las siguientes matrices de datos:
\[ A=\left( \begin{array}{ccc} 5 & 1 \\3 & 2 \\\end{array} \right)\]
\[B= \left( \begin{array}{ccc} 4 & 1 \\3 & 2 \\\end{array} \right)\]

##Multiplique por dos la matriz A y sume ambas matrices

### Solución:
```{r, echo=TRUE}
#-- Construcción de matrices
A<-matrix(c(5,3,1,2),nrow = 2,ncol = 2)
A
B<-matrix(c(1,4,7,5),nrow = 2,ncol = 2)
B
```
```{r, echo=TRUE}
#--Multiplicación por dos de la matriz A
A * 2
```
```{r, echo=TRUE}
#--Suma de las matrices
A+B
```

## Ejercicio 4: Construya un data.frame con la siguiente información:
\begin{table}[htbp]
\begin{center}
\begin{tabular}{|l|l|l|}
\hline
Sexo & Edad & Peso \\
\hline \hline 
M & 30 & 80 \\ \hline
F & 35 & 61 \\ \hline
M & 31 & 85 \\ \hline
\end{tabular}
\label{tabla:sencilla}
\end{center}
\end{table}

\newpage

### Solución:
```{r, echo=TRUE}
Data_frame<-data.frame(Sexo=c("M","F","M"),Edad=c(30,35,31),Peso=c(80,61,85))
Data_frame
```

## Ejercicio 5: Crea una función que tome un vector numérico como argumento y calcule la media y tamaño (o largo) del vector. En el resultado de la función se debe obtener ambos valores (media y tamaño).

### Solución:
```{r, echo=TRUE}
Funcion_Vector<-function(x){
  as.vector(x)
  media<-mean(x)
  longitud<-length(x)
  return(list(media=media,longitud=longitud))
} 
```
```{r, echo=TRUE}
x<-(1:65)
Funcion_Vector(x)
```

## Ejercicio 6: Crea una función que calcule el IRPF e IVA de una factura. Recuerden que en una factura al monto inicial se le resta el IRPF (porque lo paga la empresa) y se suma el IVA (porque lo paga el comprador). En el resultado se debe observar: importe inicial, costo del IRPF (pueden tomar el 19% o dejarlo como un argumento), costo del IVA (21% o dejarlo como un argumento a ingresar) e importe final de la factura. 
 
### Solución: 

```{r, echo=TRUE}
funcion_factura<-function(factura_inicial,iva,irpf){
  factura<-factura_inicial
  porcentaje_iva<-iva*0.01
  porcentaje_irpf<-irpf*0.01
  ## caluclo del iva
  iva_cantidad<-porcentaje_iva*factura
  ## calculo del irpf
  irpf_cantidad<-porcentaje_irpf*factura
  ## Resultado
  resultado= factura -irpf_cantidad + iva_cantidad
  return(list("factura"=factura,
               "cantidad de iva"=iva_cantidad,
               "Cantidad de IRPF" = irpf_cantidad,
               "Resultado"=resultado))
}
```
```{r, echo=TRUE}
funcion_factura(28500,21,8)
``` 
##Ejercicio 7: En el siguiente vector sustituya los valores perdidos por 0: x={0,1,2,NA,3,2,1}
 
### Solución:
```{r, echo=TRUE}
x<-c(0,1,2,NA,3,2,1)
x
x[is.na(x)]=0
x
```

##Ejercicio 8: Cargue los datos “trees” del dataset (el conjunto de datos que viene instalado por defecto en R) y utilice la función “apply” para calcular la media de cada variable de la base de datos.
\newpage
### Solución:

```{r, echo=TRUE}
#-- Cargamos el dataset "trees" y lo definimos como "datos"
datos<-trees
datos
```
```{r, echo=TRUE}
apply(datos,2,mean)
```

\newpage

##Ejercicio 9: Transforme los datos de formato “wide” a “long”. NOTA: los resultados pueden estar en un orden distinto.

\begin{table}[htbp]
\begin{center}
\begin{tabular}{|l|l|l|l|l|}
\hline
id & Sex & V1 & V2 & V3 \\
\hline \hline 
1 & F & 0.89 & -0.45 & 0.21 \\ \hline
2 & M & 0.30 & 0.21 & 0.37 \\ \hline
3 & F & 0.22 & -0.71 & -0.54 \\ \hline
\end{tabular}
\label{tabla:sencilla}
\end{center}
\end{table}

\begin{table}[htbp]
\begin{center}
\begin{tabular}{|l|l|l|l|}
\hline
id & Sex & N & V \\
\hline \hline 
1 & F & 1 & 0.89  \\ \hline
1 & F & 2 & -0.45 \\ \hline
1 & F & 3 & 0.21 \\ \hline
2 & M & 1 & 0.30 \\ \hline
2 & M & 2 & 0.21 \\ \hline
2 & M & 3 & 0.37 \\ \hline
3 & F & 1 & 0.22 \\ \hline
3 & F & 2 & -0.71 \\ \hline
3 & F & 3 & -0.54 \\ \hline
\end{tabular}
\label{tabla:sencilla}
\end{center}
\end{table}

### Solución:

```{r, echo=TRUE}
datos<-data.frame(id=c(1,2,3),Sex=c("F","M","F"),V1=c(0.89,0.30,0.22),
                  V2=c(-0.45,0.21,-0.71),V3=c(0.21,0.37,-0.54))
datos
```
```{r, echo=TRUE}
## -- Instalamos y cargamos el paquete necesario
library(reshape2)
datos_long<- melt(datos, id=c("id","Sex"))
datos_long
```







